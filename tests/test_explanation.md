# Описание теста мультиязычных промптов

Этот тест (`tests/test_live_chicken_prompts.py`) предназначен для проверки того, что бэкенд правильно возвращает промпты на английском и русском языках при запросе через API.

## Что конкретно проверяет тест:

1.  **Поиск персонажа:** Тест ищет в базе данных персонажа с именем "Chicken" или "Курица". Это гарантирует, что мы тестируем реальные данные.
2.  **Поиск изображения:** 
    *   Сначала он пытается найти реальное сгенерированное изображение этого персонажа в таблице `ImageGenerationHistory`.
    *   Если истории генераций нет, тест использует путь к аватарке персонажа или тестовый URL. Это активирует логику **fallback** (которую мы недавно обновили), позволяющую получить промпт по имени персонажа, если конкретное изображение не найдено.
3.  **Запрос к API:** Тест отправляет запрос на эндпоинт `/api/v1/chat-history/prompt-by-image`, передавая URL изображения и имя персонажа.
4.  **Проверка ответа:**
    *   **Успешность:** Проверяет, что сервер вернул статус `200 OK` и флаг `success: true`.
    *   **Наличие полей:** Проверяет, что в ответе присутствуют ключи `prompt_en` и `prompt_ru`.
    *   **Данные:** Выводит содержимое промптов в консоль, чтобы можно было визуально убедиться в их корректности (переведены ли они).

## Почему это важно:
Этот тест подтверждает, что:
*   Миграция базы данных прошла успешно (колонки `prompt_en`/`ru` существуют).
*   Логика "отката" (fallback) работает для обычных фото/аватарок.
*   Бэкенд корректно отдает данные на обоих языках, что позволяет фронтенду показывать описание промпта в зависимости от выбранного языка интерфейса.
