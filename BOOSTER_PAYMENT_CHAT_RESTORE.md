# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —á–∞—Ç–∞ –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –±—É—Å—Ç–µ—Ä–∞

## –ü—Ä–æ–±–ª–µ–º–∞
–ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –ª–∏–º–∏—Ç–∞ FREE –∑–∞ 69 —Ä—É–±–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–ª–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –º–∞–≥–∞–∑–∏–Ω–∞, –∏ –∏—Å—Ç–æ—Ä–∏—è —á–∞—Ç–∞ —Ç–µ—Ä—è–ª–∞—Å—å. –≠—Ç–æ –ø—Ä–µ—Ä—ã–≤–∞–ª–æ –¥–∏–∞–ª–æ–≥ –∏ —Å–æ–∑–¥–∞–≤–∞–ª–æ –ø–ª–æ—Ö–æ–π UX.

## –†–µ—à–µ–Ω–∏–µ
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ —á–∞—Ç–∞ –ø—Ä–∏ –æ–ø–ª–∞—Ç–µ –±—É—Å—Ç–µ—Ä–∞:

### ‚úÖ –í–∞–∂–Ω–æ: –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –°–û–•–†–ê–ù–Ø–Æ–¢–°–Ø!
–í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏ (`imageUrl`) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è. –§–æ—Ç–æ –Ω–µ –ø—Ä–æ–ø–∞–¥—É—Ç –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã!

### 1. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –ø–µ—Ä–µ–¥ –æ–ø–ª–∞—Ç–æ–π
**–§–∞–π–ª:** `frontend/src/components/BoosterOfferModal.tsx`

- –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É –æ–ø–ª–∞—Ç—ã –±—É—Å—Ç–µ—Ä–∞ –∏—Å—Ç–æ—Ä–∏—è —á–∞—Ç–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `localStorage`
- –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è: –º–∞—Å—Å–∏–≤ —Å–æ–æ–±—â–µ–Ω–∏–π, ID –ø–µ—Ä—Å–æ–Ω–∞–∂–∞, —Ç–µ–∫—É—â–∏–π URL, timestamp, —Ç–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏
- –ö–ª—é—á –≤ localStorage: `pending_chat_history`

```typescript
const chatHistoryData = {
  messages: chatHistory,          // –ú–∞—Å—Å–∏–≤ —Å–æ–æ–±—â–µ–Ω–∏–π —á–∞—Ç–∞ (–≤–∫–ª—é—á–∞—è imageUrl –¥–ª—è —Ñ–æ—Ç–æ!)
  characterId: characterId,        // ID –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
  returnUrl: currentUrl,           // URL –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞
  timestamp: Date.now(),           // –í—Ä–µ–º—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
  type: 'booster_payment'          // –¢–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏
};
localStorage.setItem('pending_chat_history', JSON.stringify(chatHistoryData));
```

**–ß—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –∫–∞–∂–¥–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏:**
- `id` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID
- `type` - 'user' –∏–ª–∏ 'assistant'
- `content` - —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
- `timestamp` - –≤—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏
- `imageUrl` - **URL —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ñ–æ—Ç–æ** (–µ—Å–ª–∏ –µ—Å—Ç—å)
- `generationTime` - –≤—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ñ–æ—Ç–æ
- `isGenerating` - —Å—Ç–∞—Ç—É—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- `progress` - –ø—Ä–æ–≥—Ä–µ—Å—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

### 2. –ü–µ—Ä–µ–¥–∞—á–∞ character_id –≤ –ø–ª–∞—Ç–µ–∂
**–§–∞–π–ª—ã:** 
- `frontend/src/components/BoosterOfferModal.tsx`
- `app/youkassa/router.py`

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–ª–∞—Ç–µ–∂–∞ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è `character_id`, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ `return_url`:
```python
# Backend
if payload.payment_type == "booster" and payload.character_id:
    return_url = f"{base_url}/chat?character={payload.character_id}&payment=success"
```

### 3. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã
**–§–∞–π–ª:** `frontend/src/components/ChatContainer.tsx`

–ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —á–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–∏ –≤ `localStorage`:

```typescript
const savedHistory = localStorage.getItem('pending_chat_history');
if (savedHistory) {
  const historyData = JSON.parse(savedHistory);
  
  // –ü—Ä–æ–≤–µ—Ä–∫–∏:
  // 1. –ò—Å—Ç–æ—Ä–∏—è –Ω–µ —Å—Ç–∞—Ä—à–µ 1 —á–∞—Å–∞
  // 2. –¢–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏ - 'booster_payment'
  // 3. –ò—Å—Ç–æ—Ä–∏—è –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
  
  if (–≤—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã) {
    // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è (–≤–∫–ª—é—á–∞—è —Ñ–æ—Ç–æ!)
    const restoredMessages: Message[] = historyData.messages.map((msg: any) => ({
      ...msg,  // ‚Üê Spread –æ–ø–µ—Ä–∞—Ç–æ—Ä –∫–æ–ø–∏—Ä—É–µ—Ç –í–°–ï –ø–æ–ª—è, –≤–∫–ª—é—á–∞—è imageUrl
      timestamp: new Date(msg.timestamp)
    }));
    
    setMessages(restoredMessages);
    // –û—á–∏—â–∞–µ–º localStorage
    localStorage.removeItem('pending_chat_history');
    return; // –ù–µ –∑–∞–≥—Ä—É–∂–∞–µ–º —Å —Å–µ—Ä–≤–µ—Ä–∞
  }
}
```

### 4. –û—á–∏—Å—Ç–∫–∞ URL –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã
**–§–∞–π–ª:** `frontend/src/App.tsx`

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã –ø–∞—Ä–∞–º–µ—Ç—Ä `payment=success` –æ—á–∏—â–∞–µ—Ç—Å—è –∏–∑ URL –¥–ª—è —á–∏—Å—Ç–æ—Ç—ã –∏—Å—Ç–æ—Ä–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞.

## –ó–∞—â–∏—Ç–∞ –æ—Ç –ø—Ä–æ–±–ª–µ–º

1. **–£—Å—Ç–∞—Ä–µ–≤—à–∏–µ –¥–∞–Ω–Ω—ã–µ**: –ò—Å—Ç–æ—Ä–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ—Ç—Å—è –µ—Å–ª–∏ –ø—Ä–æ—à–ª–æ –±–æ–ª–µ–µ 1 —á–∞—Å–∞
2. **–ù–µ–≤–µ—Ä–Ω—ã–π –ø–µ—Ä—Å–æ–Ω–∞–∂**: –ò—Å—Ç–æ—Ä–∏—è –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ –±—ã–ª–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞
3. **–ù–µ–≤–µ—Ä–Ω—ã–π —Ç–∏–ø**: –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ —Å —Ç–∏–ø–æ–º `booster_payment`
4. **–û—à–∏–±–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞**: –ü—Ä–∏ –ª—é–±–æ–π –æ—à–∏–±–∫–µ —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç—É, –∑–∞–≥—Ä—É–∂–∞—è –∏—Å—Ç–æ—Ä–∏—é —Å —Å–µ—Ä–≤–µ—Ä–∞

## –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### Frontend
1. `frontend/src/components/BoosterOfferModal.tsx`
   - –î–æ–±–∞–≤–ª–µ–Ω—ã props: `chatHistory`, `characterId`
   - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –≤ localStorage
   - –ü–µ—Ä–µ–¥–∞—á–∞ `character_id` –≤ API –æ–ø–ª–∞—Ç—ã

2. `frontend/src/components/ChatContainer.tsx`
   - –ü–µ—Ä–µ–¥–∞—á–∞ –∏—Å—Ç–æ—Ä–∏–∏ —á–∞—Ç–∞ –∏ ID –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –≤ `BoosterOfferModal`
   - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑ localStorage
   - –ü—Ä–æ–≤–µ—Ä–∫–∏ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ –∏ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö

3. `frontend/src/App.tsx`
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `payment=success` –≤ —Ä–æ—É—Ç–µ `/chat`
   - –û—á–∏—Å—Ç–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∏–∑ URL –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏

### Backend
4. `app/youkassa/router.py`
   - –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `character_id` –≤ `CreateKassaPaymentRequest`
   - –õ–æ–≥–∏–∫–∞ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è `return_url` –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ —á–∞—Ç —Å –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–º
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –ø–ª–∞—Ç–µ–∂–µ–π

5. **`app/main.py` (–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–ó–ú–ï–ù–ï–ù–ò–ï)**
   - **–ò–∑–º–µ–Ω–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –¥–ª—è FREE –ø–æ–¥–ø–∏—Å–∫–∏**
   - –¢–µ–ø–µ—Ä—å –∏—Å—Ç–æ—Ä–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `ChatHistory` –¥–ª—è **–í–°–ï–•** –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   - –î–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è: —Ç–æ–ª—å–∫–æ STANDARD –∏ PREMIUM (`if can_save_session`)
   - –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è: FREE, STANDARD, PREMIUM (`if user_id_int`)
   - –°–æ–∑–¥–∞–µ—Ç—Å—è `ChatSession` –¥–ª—è FREE –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–Ω—É–∂–Ω–∞ –¥–ª—è `ChatHistory`)
   - –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –±—É—Å—Ç–µ—Ä–∞

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏–π)

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–±—â–∞–µ—Ç—Å—è —Å –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–º –≤ —á–∞—Ç–µ
2. –£ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è FREE –ø–æ–¥–ø–∏—Å–∫–∏ –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—Ç—Å—è –ª–∏–º–∏—Ç—ã
3. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ `BoosterOfferModal` —Å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º –¥–æ–∫—É–ø–∏—Ç—å 69‚ÇΩ
4. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–û–ø–ª–∞—Ç–∏—Ç—å":
   - –ò—Å—Ç–æ—Ä–∏—è —á–∞—Ç–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `localStorage`
   - –°–æ–∑–¥–∞–µ—Ç—Å—è –ø–ª–∞—Ç–µ–∂ —Å `character_id` –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ–ø–ª–∞—Ç—ã
5. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã:
   - Backend –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ `/chat?character={id}&payment=success`
   - –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `ChatContainer`
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è `localStorage` –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–∏
   - –ò—Å—Ç–æ—Ä–∏—è –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è (–µ—Å–ª–∏ –≤–∞–ª–∏–¥–Ω–∞)
   - `localStorage` –æ—á–∏—â–∞–µ—Ç—Å—è
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –¥–∏–∞–ª–æ–≥ —Å —Ç–æ–≥–æ –∂–µ –º–µ—Å—Ç–∞

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –£—Å–ø–µ—à–Ω–∞—è –æ–ø–ª–∞—Ç–∞
1. –ù–∞—á–∞—Ç—å –¥–∏–∞–ª–æ–≥ —Å –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–º (FREE –ø–æ–¥–ø–∏—Å–∫–∞)
2. –ò—Å—á–µ—Ä–ø–∞—Ç—å –ª–∏–º–∏—Ç—ã —Å–æ–æ–±—â–µ–Ω–∏–π
3. –ù–∞–∂–∞—Ç—å "–û–ø–ª–∞—Ç–∏—Ç—å 69‚ÇΩ" –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
4. –ó–∞–≤–µ—Ä—à–∏—Ç—å –æ–ø–ª–∞—Ç—É
5. **–û–∂–∏–¥–∞–µ—Ç—Å—è**: –í–æ–∑–≤—Ä–∞—Ç –≤ —á–∞—Ç —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–µ–π

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –û—Ç–º–µ–Ω–∞ –æ–ø–ª–∞—Ç—ã
1. –ù–∞—á–∞—Ç—å –¥–∏–∞–ª–æ–≥ —Å –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–º
2. –ò—Å—á–µ—Ä–ø–∞—Ç—å –ª–∏–º–∏—Ç—ã
3. –ù–∞–∂–∞—Ç—å "–û–ø–ª–∞—Ç–∏—Ç—å 69‚ÇΩ"
4. –û—Ç–º–µ–Ω–∏—Ç—å –æ–ø–ª–∞—Ç—É –∏ –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤—Ä—É—á–Ω—É—é
5. **–û–∂–∏–¥–∞–µ—Ç—Å—è**: –ò—Å—Ç–æ—Ä–∏—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –µ—Å–ª–∏ –≤–µ—Ä–Ω—É–ª–∏—Å—å –∫ —Ç–æ–º—É –∂–µ –ø–µ—Ä—Å–æ–Ω–∞–∂—É

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ –¥–∞–Ω–Ω—ã–µ
1. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –≤ localStorage
2. –ü–æ–¥–æ–∂–¥–∞—Ç—å –±–æ–ª–µ–µ 1 —á–∞—Å–∞
3. –û—Ç–∫—Ä—ã—Ç—å —á–∞—Ç
4. **–û–∂–∏–¥–∞–µ—Ç—Å—è**: –ò—Å—Ç–æ—Ä–∏—è –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å —Å–µ—Ä–≤–µ—Ä–∞, localStorage –æ—á–∏—â–∞–µ—Ç—Å—è

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ò—Å—Ç–æ—Ä–∏—è —á–∞—Ç–∞ **–Ω–µ –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è** –Ω–∞ —Å–µ—Ä–≤–µ—Ä - –æ–Ω–∞ —É–∂–µ —Ç–∞–º –µ—Å—Ç—å
- localStorage –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–∞–∫ **–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ** –¥–ª—è seamless UX
- –î–∞–Ω–Ω—ã–µ –≤ localStorage **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞—é—Ç—Å—è** –ø–æ—Å–ª–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∏–ª–∏ –∏—Å—Ç–µ—á–µ–Ω–∏—è —Å—Ä–æ–∫–∞
- –†–µ—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç **–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ API –∏—Å—Ç–æ—Ä–∏–∏ —á–∞—Ç–∞** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

## ‚ö° –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏

### ‚úÖ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è!

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –ü—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ñ–æ—Ç–æ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –ø–æ–ª–µ–º `imageUrl`
2. `imageUrl` —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://server.com/image123.jpg`)
3. –ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –∏—Å—Ç–æ—Ä–∏–∏ –≤ localStorage **–≤—Å–µ –ø–æ–ª—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è**, –≤–∫–ª—é—á–∞—è `imageUrl`
4. –ü—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è spread operator (`...msg`), –∫–æ—Ç–æ—Ä—ã–π **–∫–æ–ø–∏—Ä—É–µ—Ç –≤—Å–µ –ø–æ–ª—è**
5. –§–æ—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ —á–∞—Ç–µ —á–µ—Ä–µ–∑ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π `imageUrl`

**–í–∞–∂–Ω–æ:**
- –§–æ—Ç–æ —Ö—Ä–∞–Ω–∏—Ç—Å—è **–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ**, –≤ localStorage —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ **—Å—Å—ã–ª–∫–∞**
- –§–æ—Ç–æ **–Ω–µ –∑–∞–Ω–∏–º–∞–µ—Ç –º–µ—Å—Ç–æ** –≤ localStorage (~50 –±–∞–π—Ç –Ω–∞ —Å—Å—ã–ª–∫—É –≤–º–µ—Å—Ç–æ ~500 –ö–ë –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ)
- –§–æ—Ç–æ **–Ω–µ –∏—Å—á–µ–∑–Ω–µ—Ç** –¥–∞–∂–µ –µ—Å–ª–∏ localStorage –±—É–¥–µ—Ç –æ—á–∏—â–µ–Ω (–∑–∞–≥—Ä—É–∑–∏—Ç—Å—è —Å —Å–µ—Ä–≤–µ—Ä–∞)
- –§–æ—Ç–æ **–¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –∑–∞—â–∏—Ç–∞:**
1. **–£—Ä–æ–≤–µ–Ω—å 1:** localStorage - –±—ã—Å—Ç—Ä–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö —Ñ–æ—Ç–æ
2. **–£—Ä–æ–≤–µ–Ω—å 2:** API –∏—Å—Ç–æ—Ä–∏–∏ —á–∞—Ç–∞ - –∑–∞–≥—Ä—É–∑–∫–∞ —Å —Å–µ—Ä–≤–µ—Ä–∞ –µ—Å–ª–∏ localStorage –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª
3. **–£—Ä–æ–≤–µ–Ω—å 3:** –°–µ—Ä–≤–µ—Ä —Ö—Ä–∞–Ω–µ–Ω–∏—è - –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –≤—Å–µ—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ **–ù–ò–ö–û–ì–î–ê** –Ω–µ –ø—Ä–æ–ø–∞–¥—É—Ç! üéâ

–ü–æ–¥—Ä–æ–±–Ω–µ–µ —Å–º. —Ñ–∞–π–ª `PHOTO_RESTORE_TEST.md`
